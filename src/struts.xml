<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>
    <!-- 开启开发模式 -->
    <constant name="struts.devMode" value="false" />
    <!-- 开启动态方法调用 -->
    <constant name="struts.enable.DynamicMethodInvocation" value="true"/>
    
    <!-- 请求后缀的配置，会处理后缀为action的web请求 -->
    <constant name="struts.action.extension" value="action"/>
    <!-- 编码配置 -->
    <constant name="struts.i18n.encoding" value="UTF-8"/>
    <!-- 上传文件大小配置，单位：字节 -->
    <constant name="struts.multipart.maxSize" value="1073741824"/>
    <constant name="struts.multipart.saveDir" value="/tmpUpload"/>
    
    <!-- 用户模块的Action配置 -->
	<package name="erhuogo" namespace="/" extends="json-default">
		
		<!-- 配置自定义拦截器 -->
		<interceptors>
			<interceptor name="privilegeInterceptor" class="com.erhuogo.interceptor.PrivilegeInterceptor"/>		
		</interceptors>
	
	    <!-- 全局结果页面配置 -->
		<global-results>
			<result name="error">/error.jsp</result>
		</global-results> 
		
		<!-- 首页访问的Action配置 -->
		<action name="index" class="indexAction">
			<result name="index">/WEB-INF/jsp/index.jsp</result>
		</action>
		
		<!-- 用户模块的Action配置 -->
		<action name="member_*" class="memberAction" method="{1}">
		    <result name="loginPage">/WEB-INF/jsp/login.jsp</result>
			<result name="toLogin" type="redirectAction">member_loginPage</result>
			<result name="loginSuccess" type="redirectAction">index</result>
			<result name="logoutSuccess" type="redirectAction">index</result>
			<result name="registerPage">/WEB-INF/jsp/register.jsp</result>
			<result name="isRegister" type="json">
			    <param name="root">response</param>
			</result>
			<result name="toRegister" type="json">
			    <param name="root">response</param>
			</result>
			<result name="listPageSUCCESS" type="json">
			    <param name="root">response</param>
			</result>
			<result name="shieldSUCCESS" type="json">
			    <param name="root">response</param>
			</result>
			<result name="toPersonPage">/WEB-INF/jsp/person.jsp</result>
			<result name="checkPassword" type="json">
				<param name="root">response</param>
			</result>
			<result name="alterPws" type="json">
				<param name="root">response</param>
			</result>
			<result name="pushPortrait" type="redirectAction">
				<param name="actionName">member_toPersonPage</param>
		    	<param name="member.id">${member.id}</param>
			</result>
			<result name="getCollections">/WEB-INF/jsp/myCollect.jsp</result>
			<result name="deleteCollect" type="redirectAction">
				<param name="actionName">member_getCollections</param>
				<param name="member.id">${member.id}</param>
				<param name="deleteMsg">${deleteMsg}</param>
			</result>
		</action>
		
		<!-- 省份模块的Action配置 -->
		<action name="province_*" class="provinceAction" method="{1}">
		    <result name="allProvinces" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="listPageSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="findByIdSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="saveSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="updateStatusSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		</action>
		
		<!-- 城市模块的Action配置 -->
		<action name="city_*" class="cityAction" method="{1}">
		    <result name="findCitysByProId" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="listPageSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="findByIdSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="saveSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="updateStatusSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		</action>
		
		<!-- 高校模块的Action配置 -->
		<action name="school_*" class="schoolAction" method="{1}">
		    <result name="findSchoolsByCityId" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="listPageSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="findByIdSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="saveSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="updateStatusSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		</action>
		
		<!-- 商品一级分类模块的Action配置 -->
		<action name="oneCategory_*" class="oneCategoryAction" method="{1}">
		    <result name="allOneCategory" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="listPageSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="findByIdSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="saveSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="updateStatusSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		</action>
		
		<!-- 商品二级分类模块的Action配置 -->
		<action name="twoCategory_*" class="twoCategoryAction" method="{1}">
		    <result name="allTwoThreeCategory" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="findTwoCateByOneId" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="listPageSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="findByIdSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="saveSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="updateStatusSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		</action>
		
		<!-- 商品三级级分类模块的Action配置 -->
		<action name="threeCategory_*" class="threeCategoryAction" method="{1}">
		    <result name="findThreeCateByTwoId" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="listPageSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="findByIdSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="saveSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="updateStatusSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		</action>
		
		<!-- 商品信息模块的Action配置 -->
		<action name="commodityInfo_*" class="commodityInfoAction" method="{1}">
		    <result name="publishPage">/WEB-INF/jsp/publish.jsp</result>
		    <result name="publish" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="commodityListPage">/WEB-INF/jsp/commodityList.jsp</result>
		    <result name="commodityDetailPage">/WEB-INF/jsp/commodityDetail.jsp</result>
		    <result name="toLogin" type="redirectAction">member_loginPage</result>
		    <result name="clickCommend" type="json">
		    	<param name="root">response</param>
		    </result>
		    <result name="judgeCollect" type="json">
		    	<param name="root">response</param>
		    </result>
		    <result name="collectComm" type="redirectAction">
		    	<param name="actionName">commodityInfo_collectComm</param>
		    	<param name="memberId">${memberId}</param>
		    	<param name="commId">${commId}</param>
		    </result>
		    <result name="cancelCollect" type="json">
		    	<param name="root">response</param>
		    </result>
		    <result name="collectSuccess" type="json">
		    	<param name="root">response</param>
		    </result>
		    <result name="listPageSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="updateStatusSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		</action>
		
		<!-- 图片模块的Action配置 -->
		<action name="image_*" class="imageAction" method="{1}">
		    
		</action>
		
		<!-- 收藏夹模块的Action配置 -->
		<action name="favorite_*" class="favoriteAction" method="{1}">
		    
		</action>
		
		<!-- 点赞模块的Action配置 -->
		<action name="commend_*" class="commendAction" method="{1}">
		    
		</action>
		
		<!-- 举报模块的Action配置 -->
		<action name="report_*" class="reportAction" method="{1}">
		    <result name="listPageSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="updateStatusSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		</action>
		
		<!-- 留言模块的Action配置 -->
		<action name="message_*" class="messageAction" method="{1}">
		    <result name="listPageSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		    <result name="deleteSUCCESS" type="json">
		        <param name="root">response</param>
		    </result>
		</action>
		
		<!-- 管理员模块的Action配置 -->
		<action name="admin_*" class="adminAction" method="{1}">
			<result name="loginSuccess" type="json">
			    <param name="root">response</param>
			</result>
			<result name="input">/index.jsp</result>
		</action>
		
		<!-- 公告模块的Action配置 -->
		<action name="announcement_*" class="announcementAction" method="{1}">
		    
		</action>
		
		<!-- 文件上传的Action配置 -->
		<action name="fileupload" class="fileUploadAction">
		    <result name="uploadSuccess" type="json">
		        <param name="root">response</param>
		    </result>
		</action>
				
	</package>
</struts>